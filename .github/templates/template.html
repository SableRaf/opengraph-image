<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <style>
    @font-face {
      font-family: 'Mona Sans';
      src: url('{{{font_url}}}') format('woff2');
      font-weight: 100 500;
      /* font-stretch: 40% 125%; */
      font-display: swap;
    }

    * {
      font-feature-settings: 
        "ss06" on,  
        "ss05" on, 
        "ss01" on;
    }

    html {
      font-family: 'Mona Sans', sans-serif;
    }

    body {
      width: 1280px;
      height: 640px;
      margin: 0;
      /* background-image: url('{{{background_image}}}'); */
      background-size: cover;
      color: #ffffff;
      display: flex;
      flex-direction: column;
      justify-content: top;
      padding-top: 87px;
      padding-left: 87px;
      box-sizing: border-box;
      gap: 37px;
    }

    .header {
      display: flex;
      flex-wrap: wrap;
      font-size: {{font_size}};
      line-height: 1.1em;
      letter-spacing: 0.007em;
      max-width: 813px;
      white-space: normal;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .repo-owner, .repo-separator, .repo-name {
      overflow-wrap: break-word; /* Allow breaking within long words */
      word-break: break-word; /* Consider dashes as part of the word */
      min-width: 0;
    }

    .repo-owner {
      font-weight: normal;
      color: #2f363d;
    }

    .repo-separator {
      font-weight: normal;
      margin-left: -0.1em;
      margin-right: -0.1em;
      color: #2f363d;
    }

    .repo-name {
      text-overflow: ellipsis;
      font-weight: bold;
      color: #2f363d;
    }

    .description {
      display: flex;
      flex-direction: column;
      font-size: 34px;
      line-height: 47px;
      max-width: 813px;
      color: #6d7581;
      max-width: 813px;
      display: -webkit-box;
      -webkit-line-clamp: 4;
      -webkit-box-orient: vertical;
      line-clamp: 4;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .stats {
      display: flex;
      flex-direction: row;
      font-size: 30px;
      color: #6d7581;
      gap: 50px;
      position: absolute;
      bottom: 80px; 
      left: 87px;
    }

    .stats div {
      display: flex;
      align-items: flex-start;
      text-align: left;
    }

    .stat {
      display: flex;
      align-items: flex-start;
      gap: 16px;
    }

    .stat img {
      width: 32px;
      height: 32px;
      margin-top: 5px;
      margin-right: 1px;
    }

    .stat-info {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 0px;
    }

    .stat-number {
      font-size: 32px;
      font-weight: 450;
      align-self: flex-start;
      color:#2f363d;
    }

    .stat-name {
      font-size: 27px;
    }

    .languages {
      font-size: 30px;
      margin-top: 20px;
    }

    .language-bar {
      display: flex;
      height: 25px;
      margin-top: 20px;
      border-radius: 0;
      overflow: hidden;
      width: 100%;
      min-height: 25px;
      position: absolute;
      bottom: 0;
      left: 0;
    }

    .language-bar div {
      height: 25px;
      display: block;
    }

    .profile-picture {
      position: absolute;
      top: 87px;
      right: 87px;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      overflow: hidden;
    }

    .profile-picture img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
</head>

<body>
  <div class="profile-picture">
    <img src="{{{profile_picture}}}" alt="Profile Picture">
  </div>
  <div class="header">
    <span class="repo-owner">{{owner}}</span>
    <span class="repo-separator">/</span>
    <span class="repo-name">{{repo_name}}</span>
  </div>
  <div class="description">{{description}}</div>
  <div class="stats">
    {{#stars}}
    <div class="stat">
      <img src="{{{star_icon}}}" alt="Stars">
      <div class="stat-info">
        <div class="stat-number">{{stars}}</div>
        <div class="stat-name">Stars</div>
      </div>
    </div>
    {{/stars}}
    {{#forks}}
    <div class="stat">
      <img src="{{{fork_icon}}}" alt="Forks">
      <div class="stat-info">
        <div class="stat-number">{{forks}}</div>
        <div class="stat-name">Forks</div>
      </div>
    </div>
    {{/forks}}
    {{#contributors}}
    <div class="stat">
      <img src="{{{contributors_icon}}}" alt="Contributors">
      <div class="stat-info">
        <div class="stat-number">{{contributors}}</div>
        <div class="stat-name">Contributors</div>
      </div>
    </div>
    {{/contributors}}
    {{#issues}}
    <div class="stat">
      <img src="{{{issue_icon}}}" alt="Issues">
      <div class="stat-info">
        <div class="stat-number">{{issues}}</div>
        <div class="stat-name">Issues</div>
      </div>
    </div>
    {{/issues}}
    {{#discussions}}
    <div class="stat">
      <img src="{{{discussion_icon}}}" alt="Discussions">
      <div class="stat-info">
        <div class="stat-number">{{discussions}}</div>
        <div class="stat-name">Discussions</div>
      </div>
    </div>
    {{/discussions}}
  </div>
  <div class="language-bar">
    {{#language_distribution}}
    <div style="width: {{percentage}}%; background-color: {{color}};" title="{{name}}"></div>
    {{/language_distribution}}
  </div>
</body>

</html>